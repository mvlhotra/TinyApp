<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <style>
    html {
      height: 100%;
    }

    body {
      height: 100%;
      margin: 0;
      background-repeat: no-repeat;
      background-attachment: fixed;
      background: #8e9eab;
      /* fallback for old browsers */
      background: -webkit-linear-gradient(to right, #eef2f3, #8e9eab);
      /* Chrome 10-25, Safari 5.1-6 */
      background: linear-gradient(to right, #eef2f3, #8e9eab);
      /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */


    }

    a {
      color: #686868;
    }
  </style>
  <title>TinyApp</title>
</head>

<header>
  <% include ./partials/_header %>
  <p><a href="/urls/new">Create New TinyURL</a></p>
</header>

<body style="font-size:20px; padding:50px;">
  <% if( user !== undefined ){ %>
  <h2>My URLS</h2>
  <ul style="display:flex; flex-direction: column; list-style:none; max-width: 600px;">
    <% for(url in urls){ %>
    <li style="padding: 0.5rem;">
      <strong><%= url %></strong> → <%= urls[url].longURL %><strong>Created:</strong><%= urls[url].dCrea %>
      <strong>Hits: </strong><%=urls[url].hits%>
      <form style="float:right;">
        <button type="submit" formmethod="GET" formaction="/urls/<%=url%>" class="btn btn-dark">Edit ✏️</button>
        <button type="submit" formmethod="POST" formaction="/urls/<%=url%>/delete" class="btn btn-danger">Delete
          🗑️</button></form>
    </li>
    <%}%>
  <%} else {%>
    <h2>You are not logged in. Please <strong>Login</strong> or <strong>Register.</strong></h2>
    <%}%>
  </ul>
</body>

</html>